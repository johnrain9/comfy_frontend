name: wan-i2v-single-extra-lora
description: "WAN I2V single-template (ctxwindow) with selectable extra LoRA"
template: /home/cobra/ComfyUI/user/workflows/wan22_enhancedH_q5L_2stage_gguf_vertical_ctxwindow_extra_lora.api.json
input_type: image
input_extensions: [.png, .jpg, .jpeg, .webp, .bmp]

file_bindings:
  load_image:
    nodes: ["97"]
    field: image
  output_prefix:
    nodes: ["108"]
    field: filename_prefix
  seed:
    nodes: ["86", "85"]
    fields: [noise_seed, seed]

parameters:
  positive_prompt:
    label: "Positive prompt"
    type: text
    nodes: ["93"]
    field: text
    default: ""
  negative_prompt:
    label: "Negative prompt"
    type: text
    nodes: ["89"]
    field: text
    default: ""
  randomize_seed:
    label: "Randomize seeds"
    type: bool
    default: true
  tries:
    label: "Tries per image"
    type: int
    default: 1
    min: 1
    max: 10
  output_prefix:
    label: "Output prefix"
    type: text
    default: "video/auto_batch"
  flip_orientation:
    label: "Flip orientation (swap width/height)"
    type: bool
    default: false

  extra_lora_high_name:
    label: "Extra LoRA (high-noise)"
    type: text
    nodes: ["201"]
    field: lora_name
    default: "wan2.2_i2v_lightx2v_4steps_lora_v1_high_noise.safetensors"
  extra_lora_low_name:
    label: "Extra LoRA (low-noise)"
    type: text
    nodes: ["202"]
    field: lora_name
    default: "wan2.2_i2v_lightx2v_4steps_lora_v1_low_noise.safetensors"
  extra_lora_strength_high:
    label: "Extra LoRA strength (high-noise)"
    type: float
    nodes: ["201"]
    field: strength_model
    default: 0.0
    min: 0.0
    max: 2.0
  extra_lora_strength_low:
    label: "Extra LoRA strength (low-noise)"
    type: float
    nodes: ["202"]
    field: strength_model
    default: 0.0
    min: 0.0
    max: 2.0

switch_states: {}
move_processed: true
